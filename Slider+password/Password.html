<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <title></title>
	<meta charset="utf-8"> </meta>
    <style type="text/css">

html, body {
    height: 100%;
    margin: 10px;
    padding: 0;
}
   
#pass {
    background-color: #DCDCDC;
    border: 2px inset  grey;
    border-radius: 5px 5px 5px 5px;
    margin: 10px;
}
	#sub{
	box-shadow:inset -6px -4px 7px 2px #f9eca0;
	background:-moz-linear-gradient( center top, #f0c911 5%, #f2ab1e 100% );
	background-color:#f0c911;
	border-bottom-left-radius:0px;
	text-indent:-0.94px;
	border:2px solid #e65f44;
	border-radius: 15px;
	display:block;
	color:#c92200;
	font-family:Comic Sans MS;
	font-size:20px;
	font-weight:bold;
	font-style:italic;
	height:60px;
	line-height:72px;
	width:70px;
	text-decoration:none;
	text-align:center;
	text-shadow:-5px -3px 4px #fa3812;
}
#sub:hover {
	background:-moz-linear-gradient( center top, #f2ab1e 5%, #f0c911 100% );
	background-color:#f2ab1e;
}
.passIndicator{
    display:none; 
    margin-bottom: 10px;
    height:100%;
    width:100%;
    color:Orange;
}
.indicatorText{
        display:none;
}
.indicatorLine {
	display:none; 
    height: 4px;
    margin-top: 3px;
}
    </style>

    <script type="text/javascript">

        // ------------------TOOLS---------------
        function bind(node, eventName, handler, ref) {
            function handlerCrossBrowser(event) {
                event = event || window.event;
                var target = event.target || event.srcElement;
                return handler.call(ref, event);
            }
            if (node.addEventListener) {
                node.addEventListener(eventName, handlerCrossBrowser,
                    false);
            } else {
                node.attachEvent('on' + eventName,
                    handlerCrossBrowser);
            }
            return handlerCrossBrowser;
        }

		function unbind(obj, event_name, handler) {
            if (obj.removeEventListener) {
                obj.removeEventListener(event_name, handler, false);
            } else {
                obj.detachEvent('on' + event_name, handler);
            }
        }
		function getCoords(elem) {
			var box = elem.getBoundingClientRect();
			var body = document.body;
			var docEl = document.documentElement;

			var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;
			var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;
			
			var clientTop = docEl.clientTop || body.clientTop || 0;
			var clientLeft = docEl.clientLeft || body.clientLeft || 0;

			var top  = box.top +  scrollTop - clientTop;
			var left = box.left + scrollLeft - clientLeft;

			return { top: Math.round(top), left: Math.round(left) };
		}
    </script>
</head>
<body>

<form action="/form-action" name="passForm" id="passForm" method="POST">
<label>Please, enter your password
	<input type="password" id="pass">
</label>
<div class="passIndicator">password's strength level : 
	<strong class="indicatorText"></strong>
	<div class="indicatorLine"></div>
</div>
<input type="submit" value="Send" id="sub"/>
</form>

<script type="text/javascript">

    'use strict';
    var Pass = (function () {
        function Pass(id) {
            var self = this;
            this.id = "#" + id;
            this.NUMBER_OF_MARKS = 4;
            this.mark = 1;
            this.PASS_NORMAL_LENGTH=4;
            this.PASS_GOOD_LENGTH=6;
            this.PASS_EXCELLENT_LENGTH = 8;
			this.MARGIN_SIZE=20;
            this.password = document.querySelector(this.id);
            this.passIndicator = document.querySelector(".passIndicator");
            this.indicatorLine = document.querySelector(".indicatorLine");
            this.indicatorText = document.querySelector(".indicatorText");
            this.enter = function () {
					bind(self.password, 'focus', function () {
					this.passIndicator.style.display = "block";
					}, self);
				
					bind(self.password, 'blur', function () {
						this.passIndicator.style.display = "none";
						this.indicatorText.style.display = "none";
						this.indicatorLine.style.display = "none";
					}, self);
					bind(self.password, 'input', self.startEnter, self);
            };
		}
            Pass.prototype.startEnter = function () {
                this.passLength = this.password.value.length;
                if (this.passLength >= this.PASS_NORMAL_LENGTH && this.passLength < this.PASS_GOOD_LENGTH) {
                    this.mark = 2;
                }
                else if (this.passLength >= this.PASS_GOOD_LENGTH && this.passLength < this.PASS_EXCELLENT_LENGTH) {
                    this.mark = 3;
                }
                else if (this.passLength >= this.PASS_EXCELLENT_LENGTH) {
                    this.mark = 4;
                }
                else this.mark = 1;
                switch (this.mark) {
                    case 1:
                        this.indicatorText.style.display = "inline-block";
                        this.indicatorText.style.color = "brown";
                        this.indicatorText.innerHTML = "Bad";
                        this.indicatorLine.style.display = "block";
                        this.indicatorLine.style.width = (getCoords(this.indicatorText).left-this.MARGIN_SIZE) / this.NUMBER_OF_MARKS + "px";
                        this.indicatorLine.style.backgroundColor = "brown";
                        break;
                    case 2:
                        this.indicatorText.style.display = "inline-block";
                        this.indicatorText.style.color = "#BF1ED4";
                        this.indicatorText.innerHTML = "Normal";
                        this.indicatorLine.style.display = "block";
                        this.indicatorLine.style.width = (getCoords(this.indicatorText).left-this.MARGIN_SIZE)  / (this.NUMBER_OF_MARKS - 1) + "px";
                        this.indicatorLine.style.backgroundColor = "#BF1ED4";
                        break;
                    case 3:
                        this.indicatorText.style.display = "inline-block";
                        this.indicatorText.style.color = "#10A795";
                        this.indicatorText.innerHTML = "Good";
                        this.indicatorLine.style.display = "block";
                        this.indicatorLine.style.width = (getCoords(this.indicatorText).left-this.MARGIN_SIZE)  / (this.NUMBER_OF_MARKS - 2) + "px";
                        this.indicatorLine.style.backgroundColor = "#10A795";
                        break;
                    case 4:
                        this.indicatorText.style.display = "inline-block";
                        this.indicatorText.style.color = "#28D510";
                        this.indicatorText.innerHTML = "Excellent";
                        this.indicatorLine.style.display = "block";
                        this.indicatorLine.style.width = (getCoords(this.indicatorText).left-this.MARGIN_SIZE)  / (this.NUMBER_OF_MARKS - 3) + "px";
                        this.indicatorLine.style.backgroundColor = "#28D510";
                        break;
                }
				if(this.passLength>0){
					var showAgainPassMark=bind(this.password, 'focus', this.startEnter, this);
				}
				else {
				unbind(this.password, 'focus',showAgainPassMark);
					this.indicatorText.style.display = "none";
					this.indicatorLine.style.display = "none";
				}
            };
        
        return Pass;
    } ());

    var password = new Pass("pass");
    password.enter();
   
</script>
</body>
</html>